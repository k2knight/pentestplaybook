DNS

COMMANDS

host <URL> 					find the IP address of URL

host -t <DNS Record Type> <URL> 		DNS Record type Response 

dig CH TXT version.bind <IP of other NS>	DIG Version Query	

dig ns <domain.tld> @<nameserver> 		NS request to the specific nameserver.

dig any <domain.tld> @<nameserver> 		ANY request to the specific nameserver.

dig axfr <domain.tld> @<nameserver> 		AXFR request to the specific nameserver. (Zone Transfer)

dnsenum --dnsserver <nameserver> --enum -p 0 -s 0 -o found_subdomains.txt -f ~/subdomains.list <domain.tld> 			Subdomain brute forcing.

Subdomain Bruteforcing

for sub in $(cat /opt/useful/SecLists/Discovery/DNS/subdomains-top1million-110000.txt);do dig $sub.inlanefreight.htb @10.129.14.128 | grep -v ';\|SOA' | sed -r '/^\s*$/d' | grep $sub | tee -a subdomains.txt;done

DNSEnum - tool can be used to Subdomain Bruteforce. (Alternative)

DNS RECORD Types

A 	Returns an IPv4 address of the requested domain as a result.
AAAA 	Returns an IPv6 address of the requested domain.
MX 	Returns the responsible mail servers as a result.
NS 	Returns the DNS servers (nameservers) of the domain.
TXT 	This record can contain various information. The all-rounder can be used, e.g., to validate the Google Search Console or validate SSL certificates. In addition, SPF and DMARC entries are set to validate mail traffic and protect it from spam.
CNAME 	This record serves as an alias. If the domain www.hackthebox.eu should point to the same IP, and we create an A record for one and a CNAME record for the other.
PTR 	The PTR record works the other way around (reverse lookup). It converts IP addresses into valid domain names.
SOA 	Provides information about the corresponding DNS zone and email address of the administrative contact.



RPCClient - tool to execute client side MS-RPC functions

The rpcclient offers us many different requests with which we can execute specific functions on the SMB server to get information.


RPCclient is a command-line tool that allows you to interact with remote servers and services that use the Remote Procedure Call (RPC) protocol. It's particularly useful for tasks related to Windows and Active Directory environments

SMBMap and CrackMapExec tools can ablo be used for the enumeration of SMB services.

COMMANDS


rpcclient -U “” -N <ip>		Null session authentication on SMB with no password

rpcclient -U “user” <ip>	Connect with username

for i in $(seq 500 1100);do rpcclient -N -U "" 10.129.14.128 -c "queryuser 0x$(printf '%x\n' $i)" | grep "User Name\|user_rid\|group_rid" && echo "";done	Brute Forcing User RID's

samrdump.py - Impacket (Alternative of RID's Bruteforcing)


OPTIONS after Connecting

srvinfo 		Server information.

enumdomains 		Enumerate all domains that are deployed in the network.

querydominfo 		Provides domain, server, and user information of deployed domains.

netshareenumall 	Enumerates all available shares.

netsharegetinfo <share> Provides information about a specific share.

enumdomusers 		Enumerates all domain users.

queryuser <RID> 	Provides information about a specific user.

querygroup <RID> 	Provides information about a specific group.